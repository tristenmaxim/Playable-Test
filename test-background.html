<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Test Background</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { width: 100%; height: 100%; overflow: hidden; background: #1a1a2e; }
    #game-container { width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
    canvas { display: block; max-width: 100%; max-height: 100%; }
  </style>
</head>
<body>
  <div id="game-container"></div>
  
  <script src="https://pixijs.download/release/pixi.min.js"></script>
  <script>
    console.log('PixiJS загружен:', typeof PIXI !== 'undefined');
    
    const app = new PIXI.Application({
      width: 800,
      height: 600,
      backgroundColor: 0x1a1a2e
    });
    
    document.getElementById('game-container').appendChild(app.view);
    
    console.log('Попытка загрузить текстуру: assets/images/background.png');
    const texture = PIXI.Texture.from('assets/images/background.png');
    
    if (texture.baseTexture.valid) {
      console.log('✅ Текстура уже загружена!');
      createSprite(texture);
    } else {
      console.log('⏳ Ожидание загрузки...');
      texture.baseTexture.on('loaded', () => {
        console.log('✅ Текстура загружена! Размер:', texture.width, 'x', texture.height);
        createSprite(texture);
      });
      
      texture.baseTexture.on('error', (error) => {
        console.error('❌ Ошибка загрузки:', error);
      });
    }
    
    function createSprite(texture) {
      const sprite = new PIXI.Sprite(texture);
      sprite.width = 800;
      sprite.height = 600;
      app.stage.addChild(sprite);
      console.log('✅ Спрайт создан и добавлен на сцену');
    }
  </script>
</body>
</html>
