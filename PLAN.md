# План разработки Runner Game

## Общая информация
- **Цель**: Создать клон playable креатива (runner game)
- **Референс**: https://playbox.play.plbx.ai/playoff/runner
- **Технологии**: PixiJS, WebGL, Audio API
- **Требования**: 
  - Единый HTML-файл
  - Размер < 5 MB
  - Git-репозиторий с несколькими коммитами

---

## Этап 0: Подготовка

- [x] Инициализировать Git-репозиторий
- [x] Подключить к GitHub (https://github.com/tristenmaxim/Playable-Test)
- [x] Изучить структуру проекта и ассеты
- [x] Создать план разработки (этот файл)

---

## Этап 1: Фон и базовая структура

### 1.1 Структура проекта
- [x] Создать структуру папок (src/, assets/, scripts/)
- [x] Создать базовый HTML-файл для разработки
- [x] Добавить мета-теги для мобильных устройств
- [x] Настроить стили (CSS) для полноэкранного отображения

### 1.2 Инициализация PixiJS
- [x] Подключить PixiJS через CDN для разработки
- [x] Создать класс Game с Application
- [x] Настроить canvas для адаптивности
- [x] Создать базовую структуру классов (Background, Player)

### 1.3 Фон
- [ ] Скопировать `asset_0015_background_1.png` в `assets/images/`
- [ ] Добавить загрузку текстуры в Background.js
- [ ] Создать спрайт фона и добавить на сцену
- [ ] Реализовать параллакс-скролл фона (уже есть базовая логика)
- [ ] Проверить отображение в браузере
- [ ] Коммит: "feat: add background layer with parallax scroll"

---

## Этап 2: Герой - бег и прыжки

### 2.1 Подготовка спрайтов героя
- [ ] Изучить спрайт `asset_0004_hero.png`
- [ ] Конвертировать в base64 data URI
- [ ] Встроить в HTML

### 2.2 Анимация бега
- [ ] Создать спрайт героя
- [ ] Реализовать анимацию бега (если есть spritesheet)
- [ ] Разместить героя на правильной позиции (нижняя часть экрана)
- [ ] Настроить размер спрайта

### 2.3 Управление - прыжок
- [ ] Добавить обработчик клика/тапа
- [ ] Реализовать физику прыжка (гравитация, скорость)
- [ ] Добавить анимацию прыжка
- [ ] Ограничить прыжок землей (не давать улететь вверх)
- [ ] Проверить работу прыжка
- [ ] Коммит: "feat: add hero with run animation and jump mechanics"

---

## Этап 3: Деньги - сбор предметов

### 3.1 Подготовка спрайтов денег
- [ ] Изучить спрайты денег (`asset_0008_money.png`, `asset_0009_paypal_money.webp`)
- [ ] Конвертировать в base64 data URI
- [ ] Встроить в HTML

### 3.2 Система генерации денег
- [ ] Создать класс/функцию для генерации денег
- [ ] Настроить интервалы появления денег
- [ ] Добавить движение денег (справа налево)
- [ ] Удалять деньги, когда они уходят за экран

### 3.3 Система сбора
- [ ] Реализовать коллизии между героем и деньгами
- [ ] Добавить визуальный эффект при сборе (исчезновение/анимация)
- [ ] Создать счетчик собранных денег
- [ ] Отобразить счетчик на экране (UI)
- [ ] Проверить работу системы сбора
- [ ] Коммит: "feat: add collectible money items with collision detection"

---

## Этап 4: Препятствия и враг

### 4.1 Подготовка спрайтов препятствий
- [ ] Изучить спрайты конусов (`asset_0006_cone.webp`, `asset_0007_cone_red.webp`)
- [ ] Конвертировать в base64 data URI
- [ ] Встроить в HTML

### 4.2 Система препятствий
- [ ] Создать класс/функцию для генерации препятствий
- [ ] Настроить интервалы появления препятствий
- [ ] Добавить движение препятствий (справа налево)
- [ ] Реализовать коллизии между героем и препятствиями
- [ ] Добавить обработку столкновения (игра окончена / проигрыш)

### 4.3 Враг
- [ ] Изучить спрайт врага (`asset_0005_enemy.png`)
- [ ] Конвертировать в base64 data URI
- [ ] Встроить в HTML
- [ ] Создать спрайт врага
- [ ] Реализовать движение врага (возможно патрулирование или преследование)
- [ ] Добавить коллизии с героем
- [ ] Проверить работу препятствий и врага
- [ ] Коммит: "feat: add obstacles and enemy with collision detection"

---

## Этап 5: Финиш

### 5.1 Подготовка спрайта финиша
- [ ] Изучить спрайт финиша (`asset_0010_finish.png`)
- [ ] Конвертировать в base64 data URI
- [ ] Встроить в HTML

### 5.2 Система финиша
- [ ] Создать спрайт финиша
- [ ] Разместить финиш на определенном расстоянии
- [ ] Реализовать коллизию с финишем
- [ ] Добавить экран победы (Win screen)
- [ ] Остановить игру при достижении финиша
- [ ] Проверить работу финиша
- [ ] Коммит: "feat: add finish line and winning condition"

---

## Этап 6: Музыка и звуки

### 6.1 Подготовка аудио-файлов
- [ ] Изучить аудио-файлы (asset_0030-0037.mp3, asset_0028-0029.wav)
- [ ] Конвертировать в base64 data URI
- [ ] Встроить в HTML

### 6.2 Фоновая музыка
- [ ] Определить основной музыкальный трек
- [ ] Добавить фоновую музыку
- [ ] Настроить громкость
- [ ] Реализовать зацикливание музыки

### 6.3 Звуковые эффекты
- [ ] Звук прыжка
- [ ] Звук сбора денег
- [ ] Звук столкновения с препятствием/врагом
- [ ] Звук победы
- [ ] Проверить работу всех звуков
- [ ] Коммит: "feat: add background music and sound effects"

---

## Этап 7: UI и финальные доработки

### 7.1 Интерфейс
- [ ] Добавить экран начала игры (Start screen)
- [ ] Добавить экран проигрыша (Game Over screen)
- [ ] Добавить экран победы (Win screen)
- [ ] Отобразить счетчик денег на экране
- [ ] Добавить кнопки управления (если нужно)

### 7.2 Оптимизация
- [ ] Проверить размер HTML-файла
- [ ] Оптимизировать размер ассетов (если нужно)
- [ ] Минифицировать JavaScript (если нужно)
- [ ] Убедиться, что размер < 5 MB

### 7.3 Тестирование
- [ ] Протестировать на десктопе
- [ ] Протестировать на мобильных устройствах
- [ ] Проверить работу на разных браузерах
- [ ] Исправить найденные баги
- [ ] Коммит: "feat: add UI screens and final optimizations"

---

## Этап 8: Финальная проверка и отправка

### 8.1 Проверка требований
- [ ] Единый HTML-файл ✓
- [ ] Размер < 5 MB ✓
- [ ] Все ассеты встроены ✓
- [ ] Несколько осмысленных коммитов ✓

### 8.2 Документация
- [ ] Обновить README (если нужно)
- [ ] Добавить описание подхода (опционально)

### 8.3 Финальный коммит
- [ ] Финальный коммит: "chore: finalize project"

---

## Задача со звёздочкой: Рескин ⭐

### Рескин персонажа и фона
- [ ] Выбрать альтернативный сеттинг
- [ ] Создать/найти альтернативные ассеты для героя
- [ ] Создать/найти альтернативные ассеты для фона
- [ ] Заменить ассеты в игре
- [ ] Проверить визуальную согласованность
- [ ] Коммит: "feat: reskin hero and background"

---

## Текущий статус

**Текущий этап**: Этап 1 - Фон и базовая структура

**Последнее обновление**: 2026-01-16

---

## Заметки

- Все ассеты находятся в `reference_assets/`
- Референсная игра использует PixiJS
- Важно: каждый этап должен быть полностью рабочим перед переходом к следующему
- После каждого этапа - коммит и проверка в браузере
